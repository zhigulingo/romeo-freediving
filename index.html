<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Romeo Freediving</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700&display=swap&subset=cyrillic" rel="stylesheet">

    <style>
        /* BASE */
        body { font-family: 'Manrope', sans-serif; background-color: #000; color: #111; overflow-x: hidden; }
        
        /* HEADER MIX BLEND MODE FIX */
        .header-blend { mix-blend-mode: difference; color: white; }
        
        /* PAGES TRANSITION */
        .page-section { display: none; opacity: 0; transition: opacity 0.4s ease-in-out; min-height: 100vh; background-color: #FAFAFA; padding-top: 100px; }
        .page-section.active { display: block; opacity: 1; }
        #page-home { padding-top: 0; background-color: #000; }

        /* UTILS */
        .hover-underline { position: relative; cursor: pointer; }
        .hover-underline::after { content: ''; position: absolute; width: 100%; transform: scaleX(0); height: 1px; bottom: -4px; left: 0; background-color: #00bcd4; transform-origin: bottom right; transition: transform 0.25s ease-out; }
        .hover-underline:hover::after { transform: scaleX(1); transform-origin: bottom left; }
        
        .section-header { font-size: 0.75rem; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.3em; display: block; margin-bottom: 2rem; }

        /* HERO ANIMATIONS */
        @keyframes blurFadeIn { 0% { opacity: 0; filter: blur(15px); transform: scale(0.98); } 100% { opacity: 1; filter: blur(0); transform: scale(1); } }
        .blur-fade-in { animation: blurFadeIn 2s ease-out forwards; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-500 { animation-delay: 0.5s; }

        /* GALLERY CAROUSEL */
        .gallery-main-img { transition: opacity 0.5s ease; }
        .thumb-active { border: 2px solid white; opacity: 1 !important; }

        /* RENTAL GRAYSCALE HOVER */
        .rental-card img { filter: grayscale(100%); transition: filter 0.5s ease; }
        .rental-card:hover img { filter: grayscale(0%); }

        /* BLOG MODAL */
        #blog-modal { transition: opacity 0.3s ease, visibility 0.3s; }
        #blog-modal.open { opacity: 1; visibility: visible; }
        #blog-modal.closed { opacity: 0; visibility: hidden; pointer-events: none; }

        /* MOBILE MENU */
        #mobile-menu-overlay { transition: opacity 0.3s; }
        #mobile-menu-overlay.open { opacity: 1; pointer-events: auto; }
        #mobile-menu-overlay.closed { opacity: 0; pointer-events: none; }
        
        /* FADE SLIDER FOR SERVICES */
        .fade-slider { position: relative; width: 100%; height: 100%; }
        .fade-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease-in-out; object-fit: cover; }
        .fade-slide.active { opacity: 1; }

        /* BLOG SHOW MORE */
        .blog-item-hidden { display: none; }
    </style>
</head>
<body class="antialiased">

    <!-- LANGUAGE SWITCHER (FIXED TOP) -->
    <div class="fixed top-0 left-0 w-full h-8 bg-black z-[80] hidden md:flex justify-end items-center px-4 md:px-12 border-b border-gray-800">
        <div class="text-[10px] font-bold tracking-widest text-white space-x-4 uppercase">
            <span onclick="setLang('ru')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-ru text-cyan-400">RU</span>
            <span class="text-gray-600">|</span>
            <span onclick="setLang('en')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-en">EN</span>
        </div>
    </div>

    <!-- DESKTOP HEADER (MIX BLEND) -->
    <header class="hidden md:flex fixed top-8 w-full z-[70] header-blend py-6 justify-between px-12 items-center pointer-events-none">
        <!-- Logo Left -->
        <div class="pointer-events-auto cursor-pointer font-bold tracking-[0.2em] text-sm uppercase" onclick="navTo('home')">Romeo Freediving</div>
        
        <!-- Nav Center -->
        <nav class="pointer-events-auto flex space-x-12 text-xs tracking-[0.2em] uppercase font-light">
            <span onclick="navTo('home')" class="hover-underline" data-i18n="nav_home">Интро</span>
            <span onclick="navTo('shooting')" class="hover-underline" data-i18n="nav_shooting">Съемка</span>
            <span onclick="navTo('rental')" class="hover-underline" data-i18n="nav_rental">Аренда</span>
            <span onclick="navTo('education')" class="hover-underline" data-i18n="nav_education">Обучение</span>
        </nav>
        
        <!-- Empty Right (Balance) -->
        <div class="w-[140px]"></div>
    </header>

    <!-- MOBILE HEADER -->
    <div class="md:hidden fixed top-8 w-full z-[70] header-blend flex justify-between items-center px-6 py-4 pointer-events-none">
        <div class="pointer-events-auto font-bold tracking-widest text-xs uppercase">Romeo Freediving</div>
        <button onclick="toggleMobileMenu()" class="pointer-events-auto text-2xl focus:outline-none"><i class="fas fa-bars"></i></button>
    </div>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black z-[100] closed flex flex-col justify-center items-center">
        <button onclick="toggleMobileMenu()" class="absolute top-6 right-6 text-white text-3xl focus:outline-none"><i class="fas fa-times"></i></button>
        <nav class="flex flex-col space-y-8 text-center">
            <span onclick="navTo('home')" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_home">Интро</span>
            <span onclick="navTo('shooting')" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_shooting">Съемка</span>
            <span onclick="navTo('rental')" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_rental">Аренда</span>
            <span onclick="navTo('education')" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_education">Обучение</span>
        </nav>
        <div class="mt-12 text-[10px] font-bold tracking-widest text-white space-x-4 uppercase">
            <span onclick="setLang('ru')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-ru text-cyan-400">RU</span>
            <span class="text-gray-600">|</span>
            <span onclick="setLang('en')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-en">EN</span>
        </div>
    </div>

    <!-- ==================================================================================== -->
    <!-- PAGE 1: HOME (INTRO) -->
    <!-- ==================================================================================== -->
    <section id="page-home" class="page-section active">
        
        <!-- HERO -->
        <div class="relative h-screen flex items-center justify-center overflow-hidden bg-black">
            <div class="absolute inset-0 z-0 opacity-60">
                <video autoplay muted loop playsinline class="w-full h-full object-cover grayscale">
                    <source src="assets/hero.mp4" type="video/mp4">
                    <img src="assets/hero-poster.jpg" class="w-full h-full object-cover">
                </video>
            </div>
            <div class="relative z-10 text-center text-white px-4">
                <p class="text-micro mb-4 text-cyan-400 blur-fade-in" style="opacity: 0;" data-i18n="hero_location">Шарм-эль-Шейх • Дахаб • Египет</p>
                <h1 class="text-3xl md:text-7xl font-light mb-6 tracking-wide leading-tight blur-fade-in delay-200 uppercase" style="opacity: 0;" data-i18n="hero_title">Подводная съемка<br>в Египте</h1>
                <div class="h-[1px] w-24 bg-white/30 mx-auto mb-8"></div>
                <p class="text-sm md:text-base font-light tracking-wide text-gray-300 max-w-md mx-auto blur-fade-in delay-500" style="opacity: 0;" data-i18n="hero_subtitle">
                    Обучение. Снаряжение. Фридайв-туры.<br>Искусство задержки дыхания.
                </p>
                <button onclick="navTo('shooting')" class="mt-10 border border-white px-10 py-3 text-xs uppercase tracking-widest hover:bg-white hover:text-black transition-colors blur-fade-in delay-500" style="opacity: 0;" data-i18n="hero_cta">Забронировать</button>
            </div>
            <div class="absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-50">
                <span class="text-[10px] tracking-widest uppercase text-white" data-i18n="scroll">Вниз</span>
                <div class="w-[1px] h-12 bg-gradient-to-b from-white to-transparent"></div>
            </div>
        </div>

        <!-- INFO BLOCK -->
        <div class="py-20 md:py-32 bg-[#FAFAFA]">
            <div class="container mx-auto px-6 md:px-12">
                <h2 class="section-header" data-i18n="section_info">Инфо</h2>
                <div class="flex flex-col md:flex-row gap-8 md:gap-12 items-stretch">
                    <div class="w-full md:w-5/12">
                        <div class="aspect-[4/5] w-full bg-gray-200 relative overflow-hidden">
                            <img src="assets/profile.jpg" class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-700" alt="Romeo">
                        </div>
                    </div>
                    <div class="w-full md:w-7/12 font-light text-lg md:text-xl leading-relaxed text-gray-800 flex flex-col justify-between">
                        <div class="space-y-8">
                            <p data-i18n="about_p1">Здравствуй, друг!<br>Мое имя Ромео.<br>Я инструктор системы <strong class="font-normal text-black">Molchanovs</strong> и действующий атлет AIDA&CMAS.</p>
                            <p data-i18n="about_p2">Моя база — Дахаб, Южный Синай.<br>Здесь я учу людей находить покой под водой и создаю визуальные истории.</p>
                        </div>
                        <div class="grid grid-cols-2 gap-8 pt-8 mt-8 border-t border-gray-200 text-xs uppercase tracking-widest text-gray-500">
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_cert">Сертификация</span><span data-i18n="val_cert">Molchanovs W1/W2</span></div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_loc">Локация</span><span data-i18n="val_loc">Дахаб, Южный Синай</span></div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_equip">Снаряжение</span><span data-i18n="val_equip">Nearby Coral Coast</span></div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_photo">Съемка</span><span data-i18n="val_photo">Dahab / Sharm</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- GALLERY SECTION -->
        <div class="py-20 md:py-32 bg-[#FAFAFA] border-t border-gray-100">
            <div class="container mx-auto px-6 md:px-12">
                <!-- Header: Gallery Left, Social Right -->
                <div class="flex items-start justify-between mb-12 border-b border-gray-200 pb-4">
                    <h2 class="section-header mb-0" style="margin-bottom:0" data-i18n="section_gallery">Галерея</h2>
                    <h2 class="section-header mb-0" style="margin-bottom:0" data-i18n="label_socials">Соцсети</h2>
                </div>
                
                <!-- Social Icons Row (Aligned Right) -->
                <div class="flex justify-between items-start mb-8">
                    <p class="text-sm text-gray-400 font-light max-w-xs" data-i18n="gallery_cta">Свежие работы и анонсы туров.<br>Подписывайтесь.</p>
                    <div class="flex gap-6 text-xl text-black">
                        <a href="https://instagram.com/romeo_freediving" target="_blank" class="hover:text-cyan-500 transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" target="_blank" class="hover:text-cyan-500 transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="hover:text-red-600 transition"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="hover:text-black transition"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>

                <!-- Gallery Carousel -->
                <div class="relative w-full">
                    <div class="relative w-full overflow-hidden bg-gray-100">
                        <div id="gallery-track" class="flex transition-transform duration-500 ease-in-out">
                            <!-- JS Injected -->
                        </div>
                        <button onclick="changeSlide(-1)" class="absolute left-0 top-0 h-full w-12 text-white"><i class="fas fa-chevron-left"></i></button>
                        <button onclick="changeSlide(1)" class="absolute right-0 top-0 h-full w-12 text-white"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="mt-4 text-center text-xs uppercase tracking-widest text-gray-500">
                        <span id="gallery-caption">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- FAQ SECTION -->
        <div class="py-20 md:py-32 bg-white border-t border-gray-100">
            <div class="container mx-auto px-6 md:px-12">
                <h2 class="section-header" data-i18n="section_faq">FAQ</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-12">

                    <!-- 1. Swimming -->
                    <div data-aos="fade-up">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q1">Нужно ли уметь хорошо плавать?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a1">Базовые навыки уверенного поведения на воде желательны. Вам не нужно быть спортсменом, но вы должны комфортно чувствовать себя без дна под ногами.</p>
                    </div>

                    <!-- 2. Breath Hold -->
                    <div data-aos="fade-up" data-aos-delay="50">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q2">Я не умею задерживать дыхание надолго. Это проблема?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a2">Нет. Для красивых кадров достаточно 10–20 секунд. Перед съемкой я проведу инструктаж и научу вас правильно дышать и расслабляться.</p>
                    </div>

                    <!-- 3. Depth -->
                    <div data-aos="fade-up" data-aos-delay="100">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q3">На какой глубине проходит съемка?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a3">Обычно мы работаем на глубине 3–5 метров. Это безопасно и позволяет свету красиво играть на коже и дне.</p>
                    </div>

                    <!-- 4. Safety -->
                    <div data-aos="fade-up" data-aos-delay="150">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q4">Это безопасно?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a4">Абсолютно. Я сертифицированный инструктор системы Molchanovs. Ваша безопасность — мой приоритет, я всегда нахожусь на расстоянии вытянутой руки.</p>
                    </div>

                    <!-- 5. Equipment -->
                    <div data-aos="fade-up">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q5">Что мне нужно взять с собой?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a5">Красивый купальник и хорошее настроение. Маску, ласты и груза я предоставляю, но если у вас есть свои любимые — берите.</p>
                    </div>

                    <!-- 6. Posing -->
                    <div data-aos="fade-up" data-aos-delay="50">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q6">Я не знаю, как позировать под водой. Вы поможете?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a6">Конечно. Я руковожу процессом, подсказываю движения и поправляю вас. Вода сама подсказывает грациозные позы.</p>
                    </div>

                    <!-- 7. Preparation -->
                    <div data-aos="fade-up" data-aos-delay="100">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q7">Как подготовиться к съемке?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a7">Главное — не есть плотно за 2 часа до воды, чтобы было легко нырять. И обязательно хорошо выспаться накануне.</p>
                    </div>

                    <!-- 8. Timing -->
                    <div data-aos="fade-up" data-aos-delay="150">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q8">В какое время лучше снимать?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a8">Идеальное время — раннее утро (8:00–10:00), когда солнце мягкое и на спотах мало людей, или перед закатом для особых лучей.</p>
                    </div>

                    <!-- 9. Delivery -->
                    <div data-aos="fade-up">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q9">Как быстро я получу фото?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a9">Обработка занимает от 5 до 7 дней. Вы получите ссылку на облачное хранилище с готовыми кадрами в высоком качестве.</p>
                    </div>

                    <!-- 10. Booking -->
                    <div data-aos="fade-up" data-aos-delay="50">
                        <h4 class="font-medium text-lg mb-3" data-i18n="faq_q10">Как забронировать дату?</h4>
                        <p class="text-sm text-gray-600 font-light leading-relaxed" data-i18n="faq_a10">Напишите мне в Telegram (кнопка в меню или футере). Мы обсудим детали, выберем день и зафиксируем бронь.</p>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 2: SHOOTING (СЪЕМКА) -->
    <!-- ==================================================================================== -->
    <section id="page-shooting" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <h2 class="section-header" data-i18n="section_shooting">Съемка</h2>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Card 1: Individual Shooting -->
                <div class="bg-white border border-gray-200 overflow-hidden" data-aos="fade-up">
                    <div class="relative aspect-[4/5] bg-gray-100 overflow-hidden">
                        <img src="assets/shooting1.jpg" class="w-full h-full object-cover" alt="Individual Shooting">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                        <h3 class="absolute inset-x-0 bottom-0 p-6 text-white text-2xl font-light" data-i18n="shooting_individual_title">Индивидуальная съемка</h3>
                    </div>
                    <div class="p-8">
                        
                        <div class="space-y-6 mb-8 text-sm text-gray-700 leading-relaxed">
                            <div>
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_included">Что входит</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_scenario">Сценарий съёмки</li>
                                    <li data-i18n="shooting_equipment">Необходимое оборудование</li>
                                    <li data-i18n="shooting_gear">Купальники, гидрокостюмы, очки, маски, ласты, ремни, моноласты</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_safety">Техника безопасности при погружение (30 минут, на суше)</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_knowledge">Базовые знания о задержке дыхания и фридайвинге</li>
                                    <li data-i18n="shooting_briefing">Инструктаж плана погружений</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_water">Съемка (60 минут, на воде/под водой)</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_photos">5-30 обработанных фотографий и 2 видео 9:16 (формат инстаграм сторис)</li>
                                    <li data-i18n="shooting_montage" class="text-gray-500">*Услуги сложного монтажа обсуждаются отдельно.</li>
                                </ul>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded p-4">
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_locations">Локации</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_dahab">Dahab (Египет, Южный Синай) – от 150€</li>
                                    <li data-i18n="shooting_sharm">Sharm El-Sheikh (Египет, Южный Синай) – от 200€</li>
                                </ul>
                            </div>
                        </div>
                        
                        <a href="https://t.me/romeo_freediving" target="_blank" class="w-full block text-center border border-black px-6 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_book">Забронировать</a>
                    </div>
                </div>

                <!-- Card 2: Training Session -->
                <div class="bg-white border border-gray-200 overflow-hidden" data-aos="fade-up">
                    <div class="relative aspect-[4/5] bg-gray-100 overflow-hidden">
                        <img src="assets/shooting2.jpg" class="w-full h-full object-cover" alt="Training Session">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                        <h3 class="absolute inset-x-0 bottom-0 p-6 text-white text-2xl font-light" data-i18n="shooting_training_title">Тренировочная сессия</h3>
                    </div>
                    <div class="p-8">
                        
                        <div class="space-y-6 mb-8 text-sm text-gray-700 leading-relaxed">
                            <div>
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_training_water">Съемка (80 минут, на воде/под водой)</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_training_photos">10-30 обработанных фотографий и 2 видео 9:16 (формат инстаграм сторис)</li>
                                </ul>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded p-4">
                                <h4 class="font-semibold text-black mb-2" data-i18n="shooting_locations">Локация</h4>
                                <ul class="list-disc list-inside space-y-1 text-xs">
                                    <li data-i18n="shooting_dahab_price">Dahab (Египет, Южный Синай) – 130€ / 13 500₽ / 7 000 EGP</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mb-8 p-4 bg-gray-50 border border-gray-200 rounded">
                            <p class="text-xs text-gray-600" data-i18n="shooting_note">
                                Идеально подходит для тех, кто хочет получить отличные фотографии в процессе тренировки погружений.
                            </p>
                        </div>
                        
                        <a href="https://t.me/romeo_freediving" target="_blank" class="w-full block text-center border border-black px-6 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_book">Забронировать</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 3: RENTAL -->
    <!-- ==================================================================================== -->
    <section id="page-rental" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <h2 class="section-header" data-i18n="section_rental">Аренда Снаряжения</h2>
            <p class="mb-12 text-gray-500 font-light max-w-2xl" data-i18n="rental_intro">Полный сетап для погружений. Локация: Coral Coast Hotel area.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="rental-grid">
                <!-- JS will inject cards -->
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 4: EDUCATION (ОБУЧЕНИЕ) -->
    <!-- ==================================================================================== -->
    <section id="page-education" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <h2 class="section-header" data-i18n="section_education">Обучение</h2>

            <!-- Education Courses Section -->
            <div class="mb-20">
                <h3 class="text-2xl font-light mb-8" data-i18n="courses_title">Курсы Molchanovs</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <div class="bg-white border border-gray-200 p-8 flex flex-col justify-between">
                        <div>
                            <h4 class="text-lg font-light mb-4" data-i18n="course_personal">Персональная тренировка</h4>
                            <p class="text-gray-500 font-light mb-6 text-sm" data-i18n="course_personal_desc">
                                Индивидуальный подход к освоению техники задержки дыхания.
                            </p>
                            <div class="space-y-2 text-sm mb-6">
                                <div class="flex justify-between font-medium">
                                    <span>1 сессия</span>
                                    <span>100€</span>
                                </div>
                                <div class="text-[10px] text-gray-400">~10 500₽ / 5 300 EGP</div>
                            </div>
                        </div>
                        <a href="https://t.me/romeo_freediving" target="_blank" class="block w-full md:w-max text-center border border-black px-8 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_enroll">Записаться</a>
                    </div>
                    <div class="bg-white border border-gray-200 p-8 flex flex-col justify-between">
                        <div>
                            <h4 class="text-lg font-light mb-4" data-i18n="course_wave">Курс Wave 1 / Wave 2</h4>
                            <p class="text-gray-500 font-light mb-6 text-sm" data-i18n="course_wave_desc">
                                Полное обучение по системе Molchanovs с получением сертификата.
                            </p>
                            <div class="space-y-2 text-sm mb-6">
                                <div class="flex justify-between font-medium">
                                    <span>Полный курс</span>
                                    <span>500€</span>
                                </div>
                                <div class="text-[10px] text-gray-400">~52 000₽ / 26 500 EGP</div>
                            </div>
                        </div>
                        <a href="https://t.me/romeo_freediving" target="_blank" class="block w-full md:w-max text-center border border-black px-8 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_enroll">Записаться</a>
                    </div>
                </div>
            </div>

            <!-- Blog Section -->
            <div class="border-t border-gray-200 pt-20">
                <div class="flex flex-col md:flex-row justify-between items-end mb-12">
                    <h3 class="text-2xl font-light mb-8 md:mb-0" data-i18n="blog_title">Статьи</h3>
                    <div class="flex gap-4 overflow-x-auto pb-2 md:pb-0" id="blog-filters">
                        <button class="text-xs uppercase tracking-widest border-b border-black text-black font-semibold" onclick="filterBlog('all', this)" data-i18n="filter_all">All</button>
                        <button class="text-xs uppercase tracking-widest border-b border-transparent text-gray-400 hover:text-black transition" onclick="filterBlog('equipment', this)" data-i18n="filter_equipment">Equipment</button>
                        <button class="text-xs uppercase tracking-widest border-b border-transparent text-gray-400 hover:text-black transition" onclick="filterBlog('spots', this)" data-i18n="filter_spots">Spots</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12" id="blog-feed">
                    <!-- Blog Grid -->
                </div>

                <!-- Show More Button -->
                <div class="text-center mt-12">
                    <button id="blog-show-more-btn" onclick="showMoreBlog()" class="border border-black px-12 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_show_more">Еще</button>
                </div>
            </div>
        </div>
    </section>

    <!-- BLOG MODAL POPUP -->
    <div id="blog-modal" class="fixed inset-0 z-[200] closed flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeBlogModal()"></div>
        <div class="w-full max-w-4xl">
            <div class="flex justify-end mb-3">
                <button onclick="closeBlogModal()" class="z-30 border border-black bg-white/95 backdrop-blur-sm px-5 py-2 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition" data-i18n="btn_close">Закрыть</button>
            </div>
            <div class="bg-white w-full max-h-[90vh] overflow-y-auto relative z-10 shadow-2xl">
                <div id="modal-content" class="p-8 md:p-12">
                    <!-- Content injected via JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-black text-white py-16 border-t border-gray-900">
        <div class="container mx-auto px-6 md:px-12">
             <div class="flex flex-col md:flex-row justify-between items-start gap-12">
                 <div>
                    <h3 class="text-xl font-bold tracking-widest mb-2">ROMEO</h3>
                    <p class="text-xs text-gray-500 uppercase" data-i18n="footer_location">Dahab • Egypt</p>
                 </div>
                 <div class="flex flex-col gap-4 text-sm font-light text-gray-400">
                    <span onclick="navTo('home')" class="cursor-pointer hover:text-white" data-i18n="footer_nav_home">Intro</span>
                    <span onclick="navTo('shooting')" class="cursor-pointer hover:text-white" data-i18n="footer_nav_shooting">Shooting</span>
                    <span onclick="navTo('rental')" class="cursor-pointer hover:text-white" data-i18n="footer_nav_rental">Rental</span>
                    <span onclick="navTo('education')" class="cursor-pointer hover:text-white" data-i18n="footer_nav_education">Education</span>
                 </div>
                 <div class="flex flex-col items-start gap-4">
                     <a href="https://t.me/romeo_freediving" target="_blank" class="border border-white px-6 py-2 text-xs uppercase tracking-widest hover:bg-white hover:text-black transition" data-i18n="footer_contact">Contact Telegram</a>
                     <div class="flex gap-4 text-lg text-white">
                         <a href="https://instagram.com/romeo_freediving" target="_blank" class="hover:text-cyan-400 transition"><i class="fab fa-instagram"></i></a>
                         <a href="#" target="_blank" class="hover:text-cyan-400 transition"><i class="fab fa-facebook-f"></i></a>
                         <a href="#" class="hover:text-red-500 transition"><i class="fab fa-youtube"></i></a>
                         <a href="#" class="hover:text-white/70 transition"><i class="fab fa-tiktok"></i></a>
                     </div>
                 </div>
             </div>
             <div class="mt-12 pt-8 border-t border-gray-800 text-center text-[10px] text-gray-600 uppercase">
                 <span data-i18n="footer_copyright">© 2026 Romeo Freediving</span>
             </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ once: true, duration: 800 });

        // --- DATA & CONTENT ---
        const galleryData = [
            { src: 'assets/gallery1.jpg', caption: 'Blue Hole Arch' },
            { src: 'assets/gallery2.jpg', caption: 'Lighthouse Reef' },
            { src: 'assets/gallery3.jpg', caption: 'Freediving Training' },
            { src: 'assets/gallery4.jpg', caption: 'Underwater Art' },
            { src: 'assets/gallery5.jpg', caption: 'Dahab Canyon' }
        ];

        const rentalData = [
            { id: 1, name: 'Molchanovs Bifins', price: '10€', priceFull: '10€ / 1000₽ / 500 EGP', img: 'assets/equip1.jpg' },
            { id: 2, name: 'Wetsuit 3mm', price: '15€', priceFull: '15€ / 1500₽ / 800 EGP', img: 'assets/equip2.jpg' },
            { id: 3, name: 'Mask & Snorkel', price: '5€', priceFull: '5€ / 500₽ / 250 EGP', img: 'assets/equip3.jpg' },
            { id: 4, name: 'Lanyard', price: '5€', priceFull: '5€ / 500₽ / 250 EGP', img: 'assets/equip4.jpg' },
            { id: 5, name: 'Buoy', price: '10€', priceFull: '10€ / 1000₽ / 500 EGP', img: 'assets/equip5.jpg' },
            { id: 6, name: 'Weights', price: '2€', priceFull: '2€ / 200₽ / 100 EGP', img: 'assets/equip6.jpg' }
        ];

        const blogData = [
            { 
                id: 1, cat: 'equipment',
                title: { ru: 'Карбон vs стеклопластик', en: 'Carbon vs Fiberglass' },
                desc: { ru: 'Как выбрать свои первые ласты.', en: 'How to choose your first fins.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Карбон vs стеклопластик</h2><p class="mb-4">Как выбрать ласты под ваши цели...</p><p>Полный текст статьи здесь...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Carbon vs Fiberglass</h2><p class="mb-4">Choosing the right fins...</p><p>Full article text here...</p>'
                },
                img: 'assets/blog1.jpg' 
            },
            { 
                id: 2, cat: 'spots',
                title: { ru: 'Гид по Blue Hole', en: 'Blue Hole Guide' },
                desc: { ru: 'Скрытые места знаменитого спота.', en: 'Hidden gems of the famous spot.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Гид по Blue Hole</h2><p>Что скрывается за аркой...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Blue Hole Guide</h2><p>Beyond the arch...</p>'
                },
                img: 'assets/blog2.jpg' 
            },
            { 
                id: 3, cat: 'spots',
                title: { ru: 'Ночное погружение в Lighthouse', en: 'Lighthouse Night Dive' },
                desc: { ru: 'Почему стоит нырять ночью.', en: 'Why you should dive at night.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Ночное погружение в Lighthouse</h2><p>Магия начинается после заката...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Lighthouse Night Dive</h2><p>Magic happens when sun goes down...</p>'
                },
                img: 'assets/blog3.jpg' 
            },
            { 
                id: 4, cat: 'equipment',
                title: { ru: 'Гид по гидрокостюмам', en: 'Wetsuit Guide' },
                desc: { ru: 'Как подобрать толщину.', en: 'Choosing the right thickness.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Гид по гидрокостюмам</h2><p>Температура и комфорт...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Wetsuit Guide</h2><p>Temperature and comfort...</p>'
                },
                img: 'assets/blog1.jpg' 
            },
            { 
                id: 5, cat: 'spots',
                title: { ru: 'Глубокое погружение в Canyon', en: 'Canyon Deep Dive' },
                desc: { ru: 'Исследуем Дахабский каньон.', en: 'Exploring Dahab Canyon.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Глубокое погружение в Canyon</h2><p>Знаменитый спот каньона...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Canyon Deep Dive</h2><p>The famous canyon spot...</p>'
                },
                img: 'assets/blog2.jpg' 
            },
            { 
                id: 6, cat: 'equipment',
                title: { ru: 'Выбор маски', en: 'Mask Selection' },
                desc: { ru: 'Low volume vs классические маски.', en: 'Low volume vs regular masks.' },
                full: {
                    ru: '<h2 class="text-2xl font-bold mb-4">Выбор маски</h2><p>Маска — ключевой элемент...</p>',
                    en: '<h2 class="text-2xl font-bold mb-4">Mask Selection</h2><p>Your mask is crucial...</p>'
                },
                img: 'assets/blog3.jpg' 
            }
        ];

        const translations = {
            ru: {
                nav_home: "Интро", nav_shooting: "Съемка", nav_rental: "Аренда", nav_education: "Обучение",
                hero_location: "Шарм-эль-Шейх • Дахаб • Египет", hero_title: "Подводная съемка<br>в Египте", hero_subtitle: "Обучение. Снаряжение. Фридайв-туры.<br>Искусство задержки дыхания.", hero_cta: "Забронировать",
                section_info: "Инфо", about_p1: "Здравствуй, друг!<br>Мое имя Ромео.<br>Я инструктор системы <strong class='font-normal text-black'>Molchanovs</strong>.",
                about_p2: "Моя база — Дахаб, Южный Синай.<br>Здесь я учу людей находить покой под водой и создаю визуальные истории.",
                label_cert: "Сертификация", val_cert: "Molchanovs W1/W2", label_loc: "Локация", val_loc: "Дахаб, Южный Синай", label_equip: "Снаряжение", val_equip: "Nearby Coral Coast", label_photo: "Съемка", val_photo: "Dahab / Sharm",
                section_gallery: "Галерея", label_socials: "Соцсети", gallery_cta: "Свежие работы и анонсы туров.<br>Подписывайтесь.",
                section_shooting: "Съемка",
                shooting_individual_title: "Индивидуальная съемка",
                shooting_included: "Что входит",
                shooting_scenario: "Сценарий съёмки",
                shooting_equipment: "Необходимое оборудование",
                shooting_gear: "Купальники, гидрокостюмы, очки, маски, ласты, ремни, моноласты",
                shooting_safety: "Техника безопасности при погружение (30 минут, на суше)",
                shooting_knowledge: "Базовые знания о задержке дыхания и фридайвинге",
                shooting_briefing: "Инструктаж плана погружений",
                shooting_water: "Съемка (60 минут, на воде/под водой)",
                shooting_training_water: "Съемка (80 минут, на воде/под водой)",
                shooting_photos: "5-30 обработанных фотографий и 2 видео 9:16 (формат инстаграм сторис)",
                shooting_montage: "*Услуги сложного монтажа обсуждаются отдельно.",
                shooting_locations: "Локации",
                shooting_dahab: "Dahab (Египет, Южный Синай) – от 150€",
                shooting_sharm: "Sharm El-Sheikh (Египет, Южный Синай) – от 200€",
                shooting_training_title: "Тренировочная сессия",
                shooting_training_photos: "10-30 обработанных фотографий и 2 видео 9:16 (формат инстаграм сторис)",
                shooting_dahab_price: "Dahab (Египет, Южный Синай) – 130€ / 13 500₽ / 7 000 EGP",
                shooting_note: "Идеально подходит для тех, кто хочет получить отличные фотографии в процессе тренировки погружений.",
                btn_book: "Забронировать",
                section_rental: "Аренда Снаряжения", rental_intro: "Полный сетап для погружений. Локация: Coral Coast Hotel area.", btn_rent: "Арендовать",
                section_education: "Обучение",
                courses_title: "Курсы Molchanovs",
                course_personal: "Персональная тренировка",
                course_personal_desc: "Индивидуальный подход к освоению техники задержки дыхания.",
                course_wave: "Курс Wave 1 / Wave 2",
                course_wave_desc: "Полное обучение по системе Molchanovs с получением сертификата.",
                btn_enroll: "Записаться",
                blog_title: "Полезные статьи",
                blog_cat_equipment: "Снаряжение",
                blog_cat_spots: "Споты",
                filter_all: "Все", filter_equipment: "Снаряжение", filter_spots: "Споты",
                scroll: "Вниз",
                section_faq: "Частые вопросы",
                faq_q1: "Нужно ли уметь хорошо плавать?",
                faq_a1: "Базовые навыки уверенного поведения на воде желательны. Вам не нужно быть спортсменом, но вы должны комфортно чувствовать себя без дна под ногами.",
                faq_q2: "Я не умею задерживать дыхание надолго. Это проблема?",
                faq_a2: "Нет. Для красивых кадров достаточно 10–20 секунд. Перед съемкой я проведу инструктаж и научу вас правильно дышать.",
                faq_q3: "На какой глубине проходит съемка?",
                faq_a3: "Обычно мы работаем на глубине 3–5 метров. Это безопасно и позволяет свету красиво играть на коже.",
                faq_q4: "Это безопасно?",
                faq_a4: "Абсолютно. Я сертифицированный инструктор Molchanovs. Ваша безопасность — мой приоритет.",
                faq_q5: "Что мне нужно взять с собой?",
                faq_a5: "Красивый купальник и хорошее настроение. Маску и ласты я могу предоставить.",
                faq_q6: "Я не знаю, как позировать. Вы поможете?",
                faq_a6: "Конечно. Я буду руководить процессом и подсказывать движения.",
                faq_q7: "Как подготовиться к съемке?",
                faq_a7: "Не ешьте плотно за 2 часа до воды и хорошо выспитесь.",
                faq_q8: "В какое время лучше снимать?",
                faq_a8: "Утро (8-10) для чистого света или закат для атмосферных кадров.",
                faq_q9: "Как быстро я получу фото?",
                faq_a9: "Обработка занимает 5-7 дней. Вы получите ссылку на облако.",
                faq_q10: "Как забронировать дату?",
                faq_a10: "Напишите мне в Telegram, мы выберем удобный день.",
                btn_show_more: "Еще",
                btn_read: "Читать",
                btn_share: "Поделиться статьей",
                share_alert: "Ссылка скопирована в буфер обмена!",
                footer_location: "Дахаб • Египет",
                footer_nav_home: "Интро",
                footer_nav_shooting: "Съемка",
                footer_nav_rental: "Аренда",
                footer_nav_education: "Обучение",
                footer_contact: "Написать в Telegram",
                footer_copyright: "© 2026 Romeo Freediving"
            },
            en: {
                nav_home: "Intro", nav_shooting: "Shooting", nav_rental: "Rental", nav_education: "Education",
                hero_location: "Sharm El-Sheikh • Dahab • Egypt", hero_title: "Underwater Photo<br>in Egypt", hero_subtitle: "Education. Equipment. Freedive Tours.<br>The Art of Breath Hold.", hero_cta: "Book Now",
                section_info: "Info", about_p1: "Hello friend!<br>My name is Romeo.<br>I am a <strong class='font-normal text-black'>Molchanovs</strong> instructor.",
                about_p2: "My base is Dahab, South Sinai.<br>I teach people to find calm underwater and create visual stories.",
                label_cert: "Certification", val_cert: "Molchanovs W1/W2", label_loc: "Location", val_loc: "Dahab, South Sinai", label_equip: "Equipment", val_equip: "Nearby Coral Coast", label_photo: "Shooting", val_photo: "Dahab / Sharm",
                section_gallery: "Gallery", label_socials: "Socials", gallery_cta: "Latest works and tour announcements.<br>Follow me.",
                section_shooting: "Shooting",
                shooting_individual_title: "Individual Shooting",
                shooting_included: "What's included",
                shooting_scenario: "Shooting scenario",
                shooting_equipment: "Necessary equipment",
                shooting_gear: "Swimwear, wetsuits, goggles, masks, fins, belts, monofins",
                shooting_safety: "Safety during diving (30 minutes, on shore)",
                shooting_knowledge: "Basic knowledge about breath-hold and freediving",
                shooting_briefing: "Dive plan briefing",
                shooting_water: "Shooting (60 minutes, on water/underwater)",
                shooting_training_water: "Shooting (80 minutes, on water/underwater)",
                shooting_photos: "5-30 processed photos and 2 videos 9:16 (Instagram Stories format)",
                shooting_montage: "*Complex editing services are discussed separately.",
                shooting_locations: "Locations",
                shooting_dahab: "Dahab (Egypt, South Sinai) – from 150€",
                shooting_sharm: "Sharm El-Sheikh (Egypt, South Sinai) – from 200€",
                shooting_training_title: "Training Session",
                shooting_training_photos: "10-30 processed photos and 2 videos 9:16 (Instagram Stories format)",
                shooting_dahab_price: "Dahab (Egypt, South Sinai) – 130€ / 13,500₽ / 7,000 EGP",
                shooting_note: "Perfect for those who want great photos while training dives.",
                btn_book: "Book Now",
                section_rental: "Equipment Rental", rental_intro: "Full diving setup. Location: Coral Coast Hotel area.", btn_rent: "Rent Now",
                section_education: "Education",
                courses_title: "Molchanovs Courses",
                course_personal: "Personal Training",
                course_personal_desc: "Individual approach to learning breath-hold techniques.",
                course_wave: "Wave 1 / Wave 2 Course",
                course_wave_desc: "Full training in the Molchanovs system with certification.",
                btn_enroll: "Enroll Now",
                blog_title: "Useful Articles",
                blog_cat_equipment: "Equipment",
                blog_cat_spots: "Spots",
                filter_all: "All", filter_equipment: "Equipment", filter_spots: "Spots",
                scroll: "Scroll",
                section_faq: "FAQ",
                faq_q1: "Do I need to be a strong swimmer?",
                faq_a1: "Basic swimming skills are required. You don't need to be an athlete, but you should feel comfortable in open water.",
                faq_q2: "I can't hold my breath for long. Is that a problem?",
                faq_a2: "No. 10-20 seconds is enough for great shots. I will teach you breathing basics before we dive.",
                faq_q3: "How deep do we dive?",
                faq_a3: "Usually 3-5 meters. It's safe and provides the best natural lighting.",
                faq_q4: "Is it safe?",
                faq_a4: "Absolutely. I am a certified Molchanovs instructor. Safety is my number one priority.",
                faq_q5: "What should I bring?",
                faq_a5: "A swimsuit and good vibes. I can provide a mask and fins if needed.",
                faq_q6: "I don't know how to pose underwater.",
                faq_a6: "Don't worry. I will guide you through the process and suggest movements.",
                faq_q7: "How to prepare?",
                faq_a7: "Avoid heavy meals 2 hours before the session and get a good night's sleep.",
                faq_q8: "What is the best time for shooting?",
                faq_a8: "Morning (8-10 AM) for clear light or sunset for atmospheric shots.",
                faq_q9: "When will I get the photos?",
                faq_a9: "Editing takes 5-7 days. You will receive a link to cloud storage.",
                faq_q10: "How to book?",
                faq_a10: "Message me on Telegram (link in menu/footer) to pick a date.",
                btn_show_more: "Show More",
                btn_read: "Read",
                btn_share: "Share this article",
                share_alert: "Link copied to clipboard!",
                footer_location: "Dahab • Egypt",
                footer_nav_home: "Intro",
                footer_nav_shooting: "Shooting",
                footer_nav_rental: "Rental",
                footer_nav_education: "Education",
                footer_contact: "Contact on Telegram",
                footer_copyright: "© 2026 Romeo Freediving"
            }
        };

        // --- LOGIC ---
        
        let curLang = 'ru';

        // 1. Navigation
        function navTo(page) {
            const target = document.getElementById('page-'+page);
            const currentActive = document.querySelector('.page-section.active');
            
            // Remove active from all
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active'));
            
            // Show target
            target.style.display = 'block';
            setTimeout(() => { 
                target.classList.add('active'); 
                window.scrollTo(0, 0); 
            }, 50);
            
            // Hide others
            setTimeout(() => {
                document.querySelectorAll('.page-section').forEach(p => {
                    if(p !== target) p.style.display = 'none';
                });
            }, 400);
            
            // Close mobile menu
            document.getElementById('mobile-menu-overlay').classList.remove('open');
            document.getElementById('mobile-menu-overlay').classList.add('closed');
        }

        // 2. Gallery Loop
        let galIdx = 0;
        let touchStartX = null;
        function getGalleryPerView() {
            return window.innerWidth >= 768 ? 3 : 1;
        }
        function renderGallery() {
            const track = document.getElementById('gallery-track');
            const cap = document.getElementById('gallery-caption');
            const perView = getGalleryPerView();
            const maxIndex = Math.max(0, galleryData.length - perView);
            if (galIdx > maxIndex) galIdx = maxIndex;
            track.innerHTML = '';

            galleryData.forEach((item) => {
                track.innerHTML += `
                    <div class="flex-shrink-0 w-full md:w-1/3 p-2">
                        <div class="aspect-[3/4] bg-gray-100 overflow-hidden">
                            <img src="${item.src}" class="w-full h-full object-cover" alt="${item.caption}">
                        </div>
                    </div>
                `;
            });

            const translatePercent = (galIdx * 100) / perView;
            track.style.transform = `translateX(-${translatePercent}%)`;
            cap.innerText = galleryData[Math.min(galIdx, galleryData.length - 1)].caption;
        }
        function changeSlide(dir) {
            const perView = getGalleryPerView();
            const maxIndex = Math.max(0, galleryData.length - perView);
            galIdx = Math.min(Math.max(galIdx + dir * perView, 0), maxIndex);
            renderGallery();
        }
        function setSlide(i) {
            galIdx = i;
            renderGallery();
        }
        function handleGalleryTouchStart(event) {
            touchStartX = event.touches[0].clientX;
        }
        function handleGalleryTouchEnd(event) {
            if (touchStartX === null) return;
            const touchEndX = event.changedTouches[0].clientX;
            const deltaX = touchStartX - touchEndX;
            if (Math.abs(deltaX) > 50) {
                changeSlide(deltaX > 0 ? 1 : -1);
            }
            touchStartX = null;
        }
        const galleryTrack = document.getElementById('gallery-track');
        galleryTrack.addEventListener('touchstart', handleGalleryTouchStart, { passive: true });
        galleryTrack.addEventListener('touchend', handleGalleryTouchEnd);
        window.addEventListener('resize', renderGallery);
        renderGallery();

        // 3. Rental Grid
        const rentalGrid = document.getElementById('rental-grid');
        rentalGrid.innerHTML = '';
        rentalData.forEach(item => {
            rentalGrid.innerHTML += `
                <div class="rental-card bg-white border border-gray-100 group overflow-hidden">
                    <div class="relative aspect-[4/5] bg-gray-100">
                        <img src="${item.img}" class="w-full h-full object-cover" onerror="this.style.opacity=0">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                        <div class="absolute inset-x-0 bottom-0 p-4 text-white">
                            <h4 class="font-light text-lg mb-1">${item.name}</h4>
                            <p class="text-xs text-white/70 mb-4">${item.priceFull}</p>
                            <button class="w-full border border-white px-6 py-3 text-xs uppercase tracking-widest hover:bg-white hover:text-black transition" data-i18n="btn_rent" onclick="rentItem('${item.name}')">Арендовать</button>
                        </div>
                    </div>
                </div>
            `;
        });
        function rentItem(name) {
            window.open(`https://t.me/romeo_freediving?text=Rent Request: ${name}`, '_blank');
        }

        // 4. Blog System
        let currentBlogFilter = 'all';
        function renderBlog(filter) {
            const feed = document.getElementById('blog-feed');
            currentBlogFilter = filter;
            feed.innerHTML = '';
            const filtered = filter === 'all' ? blogData : blogData.filter(b => b.cat === filter);
            filtered.forEach((b, index) => {
                const hiddenClass = index >= 3 ? 'blog-item-hidden' : '';
                feed.innerHTML += `
                    <div class="cursor-pointer group ${hiddenClass}" onclick="openBlogModal(${b.id})">
                        <div class="aspect-[4/5] bg-gray-200 overflow-hidden relative">
                            <img src="${b.img}" class="w-full h-full object-cover transition duration-500 group-hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
                            <div class="absolute top-3 left-3 bg-white px-2 py-1 text-[10px] uppercase font-bold">${translations[curLang][`blog_cat_${b.cat}`] || b.cat}</div>
                            <div class="absolute inset-x-0 bottom-0 p-4 text-white">
                                <h3 class="text-xl font-light mb-2 group-hover:text-cyan-300 transition">${b.title[curLang]}</h3>
                                <p class="text-sm text-white/70 mb-4">${b.desc[curLang]}</p>
                                <span class="text-xs border-b border-white/80 pb-1 uppercase" data-i18n="btn_read">Читать</span>
                            </div>
                        </div>
                    </div>
                `;
            });

            // Show/hide button
            const showMoreBtn = document.getElementById('blog-show-more-btn');
            const hasHidden = document.querySelectorAll('.blog-item-hidden').length > 0;
            if (showMoreBtn) showMoreBtn.style.display = hasHidden ? 'block' : 'none';

            updateTexts();
        }
        function showMoreBlog() {
            document.querySelectorAll('.blog-item-hidden').forEach(item => {
                item.classList.remove('blog-item-hidden');
            });
            document.getElementById('blog-show-more-btn').style.display = 'none';
        }
        function filterBlog(cat, btn) {
            renderBlog(cat);
            document.querySelectorAll('#blog-filters button').forEach(b => {
                b.classList.remove('border-black', 'text-black');
                b.classList.add('border-transparent', 'text-gray-400');
            });
            btn.classList.remove('border-transparent', 'text-gray-400');
            btn.classList.add('border-black', 'text-black');
        }
        renderBlog('all');

        // Blog Modal
        function openBlogModal(id) {
            const article = blogData.find(a => a.id === id);
            const modal = document.getElementById('blog-modal');
            const content = document.getElementById('modal-content');
            content.innerHTML = `
                <div class="aspect-video w-full bg-gray-100 mb-8"><img src="${article.img}" class="w-full h-full object-cover"></div>
                <div class="prose max-w-none">
                    ${article.full[curLang]}
                </div>
                <button class="mt-8 border border-black px-6 py-2 text-xs uppercase hover:bg-black hover:text-white transition" onclick="shareArticle('${article.title[curLang]}')" data-i18n="btn_share">Share this article</button>
            `;
            updateTexts();
            modal.classList.remove('closed'); modal.classList.add('open');
        }
        function closeBlogModal() {
            document.getElementById('blog-modal').classList.remove('open');
            document.getElementById('blog-modal').classList.add('closed');
        }
        function shareArticle(title) {
            navigator.clipboard.writeText(window.location.href);
            alert(translations[curLang].share_alert);
        }

        // 5. Languages
        function setLang(l) {
            curLang = l;
            document.querySelectorAll('.lang-ru').forEach(e => e.classList.toggle('text-cyan-400', l==='ru'));
            document.querySelectorAll('.lang-en').forEach(e => e.classList.toggle('text-cyan-400', l==='en'));
            updateTexts();
            renderBlog(currentBlogFilter);
        }
        function updateTexts() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[curLang][key]) el.innerHTML = translations[curLang][key];
            });
        }
        
        function toggleMobileMenu() {
            const m = document.getElementById('mobile-menu-overlay');
            if(m.classList.contains('closed')) { m.classList.remove('closed'); m.classList.add('open'); }
            else { m.classList.remove('open'); m.classList.add('closed'); }
        }

        // Init translations
        updateTexts();
    </script>
</body>
</html>
