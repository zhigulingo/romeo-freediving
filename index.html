<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Romeo Freediving</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700&display=swap&subset=cyrillic" rel="stylesheet">

    <style>
        /* BASE */
        body { font-family: 'Manrope', sans-serif; background-color: #000; color: #111; overflow-x: hidden; }
        
        /* HEADER MIX BLEND MODE FIX */
        .header-blend { mix-blend-mode: difference; color: white; }
        
        /* PAGES TRANSITION */
        .page-section { display: none; opacity: 0; transition: opacity 0.4s ease-in-out; min-height: 100vh; background-color: #FAFAFA; padding-top: 100px; }
        .page-section.active { display: block; opacity: 1; }
        #page-home { padding-top: 0; background-color: #000; }

        /* UTILS */
        .hover-underline { position: relative; cursor: pointer; }
        .hover-underline::after { content: ''; position: absolute; width: 100%; transform: scaleX(0); height: 1px; bottom: -4px; left: 0; background-color: #00bcd4; transform-origin: bottom right; transition: transform 0.25s ease-out; }
        .hover-underline:hover::after { transform: scaleX(1); transform-origin: bottom left; }
        
        .section-header { font-size: 0.75rem; font-weight: 700; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.3em; display: block; margin-bottom: 2rem; }

        /* HERO ANIMATIONS */
        @keyframes blurFadeIn { 0% { opacity: 0; filter: blur(15px); transform: scale(0.98); } 100% { opacity: 1; filter: blur(0); transform: scale(1); } }
        .blur-fade-in { animation: blurFadeIn 2s ease-out forwards; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-500 { animation-delay: 0.5s; }

        /* GALLERY CAROUSEL */
        .gallery-main-img { transition: opacity 0.5s ease; }
        .thumb-active { border: 2px solid white; opacity: 1 !important; }

        /* RENTAL GRAYSCALE HOVER */
        .rental-card img { filter: grayscale(100%); transition: filter 0.5s ease; }
        .rental-card:hover img { filter: grayscale(0%); }

        /* BLOG MODAL */
        #blog-modal { transition: opacity 0.3s ease, visibility 0.3s; }
        #blog-modal.open { opacity: 1; visibility: visible; }
        #blog-modal.closed { opacity: 0; visibility: hidden; pointer-events: none; }

        /* MOBILE MENU */
        #mobile-menu-overlay { transition: opacity 0.3s; }
        #mobile-menu-overlay.open { opacity: 1; pointer-events: auto; }
        #mobile-menu-overlay.closed { opacity: 0; pointer-events: none; }
        
        /* FADE SLIDER FOR SERVICES */
        .fade-slider { position: relative; width: 100%; height: 100%; }
        .fade-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease-in-out; object-fit: cover; }
        .fade-slide.active { opacity: 1; }
    </style>
</head>
<body class="antialiased">

    <!-- LANGUAGE SWITCHER (FIXED TOP) -->
    <div class="fixed top-0 left-0 w-full h-8 bg-black z-[80] flex justify-end items-center px-4 md:px-12 border-b border-gray-800">
        <div class="text-[10px] font-bold tracking-widest text-white space-x-4 uppercase">
            <span onclick="setLang('ru')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-ru text-cyan-400">RU</span>
            <span class="text-gray-600">|</span>
            <span onclick="setLang('en')" class="cursor-pointer hover:text-cyan-400 transition-colors lang-en">EN</span>
        </div>
    </div>

    <!-- DESKTOP HEADER (MIX BLEND) -->
    <header class="hidden md:flex fixed top-8 w-full z-[70] header-blend py-6 justify-between px-12 items-center pointer-events-none">
        <!-- Logo Left -->
        <div class="pointer-events-auto cursor-pointer font-bold tracking-[0.2em] text-sm uppercase" onclick="navTo('home')">Romeo Freediving</div>
        
        <!-- Nav Center -->
        <nav class="pointer-events-auto flex space-x-12 text-xs tracking-[0.2em] uppercase font-light">
            <span onclick="navTo('home')" class="hover-underline" data-i18n="nav_home">Интро</span>
            <span onclick="navTo('services')" class="hover-underline" data-i18n="nav_services">Услуги</span>
            <span onclick="navTo('rental')" class="hover-underline" data-i18n="nav_rental">Аренда</span>
            <span onclick="navTo('blog')" class="hover-underline" data-i18n="nav_blog">Блог</span>
        </nav>
        
        <!-- Empty Right (Balance) -->
        <div class="w-[140px]"></div>
    </header>

    <!-- MOBILE HEADER -->
    <div class="md:hidden fixed top-8 w-full z-[70] header-blend flex justify-between items-center px-6 py-4 pointer-events-none">
        <div class="pointer-events-auto font-bold tracking-widest text-xs uppercase">Romeo FD</div>
        <button onclick="toggleMobileMenu()" class="pointer-events-auto text-2xl focus:outline-none"><i class="fas fa-bars"></i></button>
    </div>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black z-[100] closed flex flex-col justify-center items-center">
        <button onclick="toggleMobileMenu()" class="absolute top-6 right-6 text-white text-3xl focus:outline-none"><i class="fas fa-times"></i></button>
        <nav class="flex flex-col space-y-8 text-center">
            <span onclick="navTo('home'); toggleMobileMenu()" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_home">Интро</span>
            <span onclick="navTo('services'); toggleMobileMenu()" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_services">Услуги</span>
            <span onclick="navTo('rental'); toggleMobileMenu()" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_rental">Аренда</span>
            <span onclick="navTo('blog'); toggleMobileMenu()" class="text-2xl text-white font-light tracking-widest uppercase" data-i18n="nav_blog">Блог</span>
        </nav>
    </div>

    <!-- ==================================================================================== -->
    <!-- PAGE 1: HOME (INTRO) -->
    <!-- ==================================================================================== -->
    <section id="page-home" class="page-section active">
        
        <!-- HERO -->
        <div class="relative h-screen flex items-center justify-center overflow-hidden bg-black">
            <div class="absolute inset-0 z-0 opacity-60">
                <video autoplay muted loop playsinline class="w-full h-full object-cover grayscale">
                    <source src="assets/hero.mp4" type="video/mp4">
                    <img src="assets/hero-poster.jpg" class="w-full h-full object-cover">
                </video>
            </div>
            <div class="relative z-10 text-center text-white px-4">
                <p class="text-micro mb-4 text-cyan-400 blur-fade-in" style="opacity: 0;" data-i18n="hero_location">Дахаб • Египет</p>
                <h1 class="text-3xl md:text-7xl font-light mb-6 tracking-wide leading-tight blur-fade-in delay-200 uppercase" style="opacity: 0;" data-i18n="hero_title">Подводная съемка<br>в Египте</h1>
                <div class="h-[1px] w-24 bg-white/30 mx-auto mb-8"></div>
                <p class="text-sm md:text-base font-light tracking-wide text-gray-300 max-w-md mx-auto blur-fade-in delay-500" style="opacity: 0;" data-i18n="hero_subtitle">
                    Обучение. Снаряжение. Фридайв-туры.<br>Искусство задержки дыхания.
                </p>
            </div>
            <div class="absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-50">
                <span class="text-[10px] tracking-widest uppercase text-white" data-i18n="scroll">Вниз</span>
                <div class="w-[1px] h-12 bg-gradient-to-b from-white to-transparent"></div>
            </div>
        </div>

        <!-- INFO BLOCK -->
        <div class="py-20 md:py-32 bg-[#FAFAFA]">
            <div class="container mx-auto px-6 md:px-12">
                <h2 class="section-header" data-i18n="section_info">Инфо</h2>
                <div class="flex flex-col md:flex-row gap-8 md:gap-12 items-stretch">
                    <div class="w-full md:w-5/12">
                        <div class="aspect-[4/5] w-full bg-gray-200 relative overflow-hidden">
                            <img src="assets/profile.jpg" class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-700" alt="Romeo">
                        </div>
                    </div>
                    <div class="w-full md:w-7/12 font-light text-lg md:text-xl leading-relaxed text-gray-800 flex flex-col justify-between">
                        <div class="space-y-8">
                            <p data-i18n="about_p1">Здравствуй, друг!<br>Мое имя Ромео.<br>Я инструктор системы <strong class="font-normal text-black">Molchanovs</strong> и действующий атлет AIDA&CMAS.</p>
                            <p data-i18n="about_p2">Моя база — Дахаб, Южный Синай.<br>Здесь я учу людей находить покой под водой и создаю визуальные истории.</p>
                        </div>
                        <div class="grid grid-cols-2 gap-8 pt-8 mt-8 border-t border-gray-200 text-xs uppercase tracking-widest text-gray-500">
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_cert">Сертификация</span>Molchanovs W1/W2</div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_loc">Локация</span><span data-i18n="val_loc">Дахаб, Южный Синай</span></div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_equip">Снаряжение</span>Nearby Coral Coast</div>
                            <div><span class="block text-black font-semibold mb-1" data-i18n="label_photo">Съемка</span>Dahab / Sharm</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- GALLERY SECTION -->
        <div class="py-20 md:py-32 bg-[#FAFAFA] border-t border-gray-100">
            <div class="container mx-auto px-6 md:px-12">
                <!-- Header: Gallery Left, Social Right -->
                <div class="flex items-start justify-between mb-12 border-b border-gray-200 pb-4">
                    <h2 class="section-header mb-0" style="margin-bottom:0" data-i18n="section_gallery">Галерея</h2>
                    <h2 class="section-header mb-0" style="margin-bottom:0" data-i18n="label_socials">Соцсети</h2>
                </div>
                
                <!-- Social Icons Row (Aligned Right) -->
                <div class="flex justify-between items-start mb-8">
                    <p class="text-sm text-gray-400 font-light max-w-xs" data-i18n="gallery_cta">Свежие работы и анонсы туров.<br>Подписывайтесь.</p>
                    <div class="flex gap-6 text-xl text-black">
                        <a href="https://instagram.com/romeo_freediving" target="_blank" class="hover:text-cyan-500 transition"><i class="fab fa-instagram"></i></a>
                        <a href="https://instagram.com/romeosintecho" target="_blank" class="hover:text-cyan-500 transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="hover:text-red-600 transition"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="hover:text-black transition"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>

                <!-- Infinite Carousel -->
                <div class="relative w-full">
                    <!-- Main Image Display -->
                    <div class="relative aspect-[3/2] md:aspect-[16/9] w-full bg-gray-100 mb-4 overflow-hidden group">
                        <img id="main-gallery-img" src="" class="w-full h-full object-cover gallery-main-img" alt="Gallery">
                        
                        <!-- Arrows -->
                        <button onclick="changeSlide(-1)" class="absolute left-0 top-0 h-full w-16 bg-gradient-to-r from-black/20 to-transparent text-white opacity-0 group-hover:opacity-100 transition"><i class="fas fa-chevron-left"></i></button>
                        <button onclick="changeSlide(1)" class="absolute right-0 top-0 h-full w-16 bg-gradient-to-l from-black/20 to-transparent text-white opacity-0 group-hover:opacity-100 transition"><i class="fas fa-chevron-right"></i></button>
                        
                        <!-- Caption -->
                        <div class="absolute bottom-4 left-4 bg-black/50 backdrop-blur-sm px-4 py-2 text-white text-xs tracking-widest uppercase rounded">
                            <span id="gallery-caption">Loading...</span>
                        </div>
                    </div>

                    <!-- Thumbnails Strip -->
                    <div class="flex gap-2 overflow-x-auto pb-2" id="gallery-thumbs">
                        <!-- JS Injected -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 2: SERVICES -->
    <!-- ==================================================================================== -->
    <section id="page-services" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <h2 class="section-header" data-i18n="section_services">Услуги</h2>

            <!-- Service 1: Photo (With Slider) -->
            <div class="flex flex-col lg:flex-row gap-12 mb-24 border-b border-gray-200 pb-12" data-aos="fade-up">
                <div class="w-full lg:w-1/2">
                    <div class="aspect-[4/5] md:aspect-[16/9] bg-gray-200 overflow-hidden fade-slider" id="service-photo-slider">
                        <!-- Images injected by JS -->
                    </div>
                </div>
                <div class="w-full lg:w-1/2 flex flex-col justify-between">
                    <div>
                        <h3 class="text-3xl font-light mb-4" data-i18n="serv_photo_title">Подводная съемка</h3>
                        <p class="text-gray-500 font-light mb-6 text-sm" data-i18n="serv_photo_desc">
                            Визуальная магия в Дахабе и Шарме.
                        </p>
                        
                        <div class="space-y-4 text-sm mt-6">
                            <div class="border-b border-gray-100 pb-2">
                                <div class="flex justify-between font-medium">
                                    <span data-i18n="serv_training">Тренировочная сессия (80 мин)</span>
                                    <span>~130€</span>
                                </div>
                                <div class="text-[10px] text-gray-400 mt-1">~13 500₽ / 7 000 EGP</div>
                            </div>
                            <div class="border-b border-gray-100 pb-2">
                                <div class="flex justify-between font-medium">
                                    <span data-i18n="serv_art">Индивидуальная (Art)</span>
                                    <span>from 150€</span>
                                </div>
                                <div class="text-[10px] text-gray-400 mt-1">~15 500₽ / 8 000 EGP</div>
                            </div>
                        </div>
                    </div>
                    <a href="https://t.me/romeo_freediving" target="_blank" class="mt-8 inline-block w-max border border-black px-8 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_book_photo">Забронировать</a>
                </div>
            </div>

            <!-- Service 2: Education -->
            <div class="flex flex-col lg:flex-row gap-12" data-aos="fade-up">
                <div class="w-full lg:w-1/2 lg:order-2">
                    <div class="aspect-[16/9] bg-gray-200 overflow-hidden">
                        <img src="assets/course.jpg" class="w-full h-full object-cover grayscale hover:grayscale-0 transition duration-700">
                    </div>
                </div>
                <div class="w-full lg:w-1/2 lg:order-1 flex flex-col justify-between">
                    <div>
                        <h3 class="text-3xl font-light mb-4" data-i18n="serv_course_title">Обучение Molchanovs</h3>
                        <div class="space-y-4 text-sm mt-6">
                            <div class="border-b border-gray-100 pb-2">
                                <div class="flex justify-between font-medium">
                                    <span data-i18n="serv_personal">Персональная тренировка</span>
                                    <span>100€</span>
                                </div>
                                <div class="text-[10px] text-gray-400 mt-1">~10 500₽ / 5 300 EGP</div>
                            </div>
                            <div class="border-b border-gray-100 pb-2">
                                <div class="flex justify-between font-medium">
                                    <span data-i18n="serv_wave">Курс Wave 1 / Wave 2</span>
                                    <span>500€</span>
                                </div>
                                <div class="text-[10px] text-gray-400 mt-1">~52 000₽ / 26 500 EGP</div>
                            </div>
                        </div>
                    </div>
                    <a href="https://t.me/romeo_freediving" target="_blank" class="mt-8 inline-block w-max border border-black px-8 py-3 text-xs uppercase tracking-widest hover:bg-black hover:text-white transition-colors" data-i18n="btn_book_course">Записаться</a>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 3: RENTAL -->
    <!-- ==================================================================================== -->
    <section id="page-rental" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <h2 class="section-header" data-i18n="section_rental">Аренда Снаряжения</h2>
            <p class="mb-12 text-gray-500 font-light max-w-2xl" data-i18n="rental_intro">Полный сетап для погружений. Локация: Coral Coast Hotel area.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="rental-grid">
                <!-- JS will inject cards -->
            </div>
        </div>
    </section>

    <!-- ==================================================================================== -->
    <!-- PAGE 4: BLOG -->
    <!-- ==================================================================================== -->
    <section id="page-blog" class="page-section">
        <div class="container mx-auto px-6 md:px-12 pb-20">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12">
                <h2 class="section-header mb-0" data-i18n="section_blog">Блог</h2>
                <div class="flex gap-4 overflow-x-auto pb-2 md:pb-0" id="blog-filters">
                    <button class="text-xs uppercase tracking-widest border-b border-black text-black font-semibold" onclick="filterBlog('all', this)">All</button>
                    <button class="text-xs uppercase tracking-widest border-b border-transparent text-gray-400 hover:text-black transition" onclick="filterBlog('equipment', this)">Equipment</button>
                    <button class="text-xs uppercase tracking-widest border-b border-transparent text-gray-400 hover:text-black transition" onclick="filterBlog('spots', this)">Spots</button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12" id="blog-feed">
                <!-- Blog Grid -->
            </div>
        </div>
    </section>

    <!-- BLOG MODAL POPUP -->
    <div id="blog-modal" class="fixed inset-0 z-[200] closed flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeBlogModal()"></div>
        <div class="bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto relative z-10 shadow-2xl">
            <button onclick="closeBlogModal()" class="absolute top-4 right-4 text-2xl z-20 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow"><i class="fas fa-times"></i></button>
            <div id="modal-content" class="p-8 md:p-12">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-black text-white py-16 border-t border-gray-900">
        <div class="container mx-auto px-6 md:px-12">
             <div class="flex flex-col md:flex-row justify-between items-start gap-12">
                 <div>
                    <h3 class="text-xl font-bold tracking-widest mb-2">ROMEO</h3>
                    <p class="text-xs text-gray-500 uppercase">Dahab • Egypt</p>
                 </div>
                 <div class="flex flex-col gap-4 text-sm font-light text-gray-400">
                    <span onclick="navTo('home')" class="cursor-pointer hover:text-white">Intro</span>
                    <span onclick="navTo('services')" class="cursor-pointer hover:text-white">Services</span>
                    <span onclick="navTo('rental')" class="cursor-pointer hover:text-white">Rental</span>
                    <span onclick="navTo('blog')" class="cursor-pointer hover:text-white">Blog</span>
                 </div>
                 <div>
                     <a href="https://t.me/romeo_freediving" target="_blank" class="border border-white px-6 py-2 text-xs uppercase tracking-widest hover:bg-white hover:text-black transition">Contact Telegram</a>
                 </div>
             </div>
             <div class="mt-12 pt-8 border-t border-gray-800 text-center text-[10px] text-gray-600 uppercase">
                 © 2026 Romeo Freediving
             </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ once: true, duration: 800 });

        // --- DATA & CONTENT ---
        const galleryData = [
            { src: 'assets/gallery1.jpg', caption: 'Blue Hole Arch' },
            { src: 'assets/gallery2.jpg', caption: 'Lighthouse Reef' },
            { src: 'assets/gallery3.jpg', caption: 'Freediving Training' },
            { src: 'assets/gallery4.jpg', caption: 'Underwater Art' },
            { src: 'assets/gallery5.jpg', caption: 'Dahab Canyon' }
        ];

        const servicePhotos = [
            'assets/photo1.jpg', 'assets/photo2.jpg', 'assets/photo3.jpg'
        ];

        const rentalData = [
            { id: 1, name: 'Molchanovs Bifins', price: '10€', priceFull: '10€ / 1000₽ / 500 EGP', img: 'assets/equip1.jpg' },
            { id: 2, name: 'Wetsuit 3mm', price: '15€', priceFull: '15€ / 1500₽ / 800 EGP', img: 'assets/equip2.jpg' },
            { id: 3, name: 'Mask & Snorkel', price: '5€', priceFull: '5€ / 500₽ / 250 EGP', img: 'assets/equip3.jpg' },
            { id: 4, name: 'Lanyard', price: '5€', priceFull: '5€ / 500₽ / 250 EGP', img: 'assets/equip4.jpg' },
            { id: 5, name: 'Buoy', price: '10€', priceFull: '10€ / 1000₽ / 500 EGP', img: 'assets/equip5.jpg' },
            { id: 6, name: 'Weights', price: '2€', priceFull: '2€ / 200₽ / 100 EGP', img: 'assets/equip6.jpg' }
        ];

        const blogData = [
            { 
                id: 1, cat: 'equipment', title: 'Carbon vs Fiberglass', 
                desc: 'How to choose your first fins.', 
                full: '<h2 class="text-2xl font-bold mb-4">Carbon vs Fiberglass</h2><p class="mb-4">Choosing the right fins...</p><p>Full article text here...</p>', 
                img: 'assets/blog1.jpg' 
            },
            { 
                id: 2, cat: 'spots', title: 'Blue Hole Guide', 
                desc: 'Hidden gems of the famous spot.', 
                full: '<h2 class="text-2xl font-bold mb-4">Blue Hole Guide</h2><p>Beyond the arch...</p>', 
                img: 'assets/blog2.jpg' 
            },
             { 
                id: 3, cat: 'spots', title: 'Lighthouse Night Dive', 
                desc: 'Why you should dive at night.', 
                full: '<h2 class="text-2xl font-bold mb-4">Lighthouse Night Dive</h2><p>Magic happens when sun goes down...</p>', 
                img: 'assets/blog3.jpg' 
            }
        ];

        const translations = {
            ru: {
                nav_home: "Интро", nav_services: "Услуги", nav_rental: "Аренда", nav_blog: "Блог",
                hero_location: "Дахаб • Египет", hero_title: "Подводная съемка<br>в Египте", hero_subtitle: "Обучение. Снаряжение. Фридайв-туры.<br>Искусство задержки дыхания.",
                section_info: "Инфо", about_p1: "Здравствуй, друг!<br>Мое имя Ромео.<br>Я инструктор системы <strong class='font-normal text-black'>Molchanovs</strong>.",
                label_cert: "Сертификация", label_loc: "Локация", label_equip: "Снаряжение", label_photo: "Съемка",
                section_gallery: "Галерея", label_socials: "Соцсети", gallery_cta: "Свежие работы и анонсы туров.<br>Подписывайтесь.",
                section_services: "Услуги", serv_photo_title: "Подводная съемка", serv_photo_desc: "Визуальная магия в Дахабе и Шарме.", serv_training: "Тренировочная сессия (80 мин)", serv_art: "Индивидуальная (Art)", btn_book_photo: "Забронировать",
                serv_course_title: "Обучение Molchanovs", serv_personal: "Персональная тренировка", serv_wave: "Курс Wave 1 / Wave 2", btn_book_course: "Записаться",
                section_rental: "Аренда Снаряжения", rental_intro: "Полный сетап для погружений. Локация: Coral Coast Hotel area.", btn_rent: "Арендовать",
                section_blog: "Блог", btn_read: "Читать"
            },
            en: {
                nav_home: "Intro", nav_services: "Services", nav_rental: "Rental", nav_blog: "Blog",
                hero_location: "Dahab • Egypt", hero_title: "Underwater Photo<br>in Egypt", hero_subtitle: "Education. Equipment. Freedive Tours.<br>The Art of Breath Hold.",
                section_info: "Info", about_p1: "Hello friend!<br>My name is Romeo.<br>I am a <strong class='font-normal text-black'>Molchanovs</strong> instructor.",
                label_cert: "Certification", label_loc: "Location", label_equip: "Equipment", label_photo: "Shooting",
                section_gallery: "Gallery", label_socials: "Socials", gallery_cta: "Latest works and tour announcements.<br>Follow me.",
                section_services: "Services", serv_photo_title: "Underwater Photography", serv_photo_desc: "Visual magic in Dahab and Sharm.", serv_training: "Training Session (80 min)", serv_art: "Individual (Art)", btn_book_photo: "Book Now",
                serv_course_title: "Molchanovs Education", serv_personal: "Personal Training", serv_wave: "Wave 1 / Wave 2 Course", btn_book_course: "Sign Up",
                section_rental: "Equipment Rental", rental_intro: "Full diving setup. Location: Coral Coast Hotel area.", btn_rent: "Rent Now",
                section_blog: "Blog", btn_read: "Read"
            }
        };

        // --- LOGIC ---
        
        let curLang = 'ru';

        // 1. Navigation
        function navTo(page) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.page-section').forEach(p => setTimeout(() => p.style.display='none', 400));
            const target = document.getElementById('page-'+page);
            target.style.display = 'block';
            setTimeout(() => { target.classList.add('active'); window.scrollTo(0,0); }, 50);
            document.getElementById('mobile-menu-overlay').classList.remove('open');
            document.getElementById('mobile-menu-overlay').classList.add('closed');
        }

        // 2. Gallery Loop
        let galIdx = 0;
        function renderGallery() {
            const img = document.getElementById('main-gallery-img');
            const cap = document.getElementById('gallery-caption');
            const thumbs = document.getElementById('gallery-thumbs');
            
            // Set Main
            img.style.opacity = 0;
            setTimeout(() => {
                img.src = galleryData[galIdx].src;
                cap.innerText = galleryData[galIdx].caption;
                img.style.opacity = 1;
            }, 200);

            // Render Thumbs
            thumbs.innerHTML = '';
            galleryData.forEach((item, i) => {
                const isActive = i === galIdx ? 'thumb-active' : 'opacity-60 hover:opacity-100';
                thumbs.innerHTML += `<img src="${item.src}" onclick="setSlide(${i})" class="h-16 w-24 object-cover cursor-pointer transition ${isActive}">`;
            });
        }
        function changeSlide(dir) {
            galIdx = (galIdx + dir + galleryData.length) % galleryData.length;
            renderGallery();
        }
        function setSlide(i) { galIdx = i; renderGallery(); }
        renderGallery();

        // 3. Service Slider
        function initServiceSlider() {
            const container = document.getElementById('service-photo-slider');
            servicePhotos.forEach((src, i) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = `fade-slide object-cover w-full h-full ${i===0?'active':''}`;
                container.appendChild(img);
            });
            let sIdx = 0;
            setInterval(() => {
                const slides = container.querySelectorAll('.fade-slide');
                slides[sIdx].classList.remove('active');
                sIdx = (sIdx+1)%slides.length;
                slides[sIdx].classList.add('active');
            }, 3000);
        }
        initServiceSlider();

        // 4. Rental Grid
        const rentalGrid = document.getElementById('rental-grid');
        rentalData.forEach(item => {
            rentalGrid.innerHTML += `
                <div class="rental-card bg-white p-4 border border-gray-100 group">
                    <div class="aspect-square bg-gray-100 overflow-hidden mb-4">
                        <img src="${item.img}" class="w-full h-full object-cover" onerror="this.style.opacity=0">
                    </div>
                    <h4 class="font-light text-lg mb-1">${item.name}</h4>
                    <p class="text-xs text-gray-400 mb-4">${item.priceFull}</p>
                    <button class="w-full border border-gray-300 py-2 text-xs uppercase hover:bg-black hover:text-white transition" data-i18n="btn_rent" onclick="rentItem('${item.name}')">Арендовать</button>
                </div>
            `;
        });
        function rentItem(name) {
            window.open(`https://t.me/romeo_freediving?text=Rent Request: ${name}`, '_blank');
        }

        // 5. Blog System
        function renderBlog(filter) {
            const feed = document.getElementById('blog-feed');
            feed.innerHTML = '';
            const filtered = filter === 'all' ? blogData : blogData.filter(b => b.cat === filter);
            filtered.forEach(b => {
                feed.innerHTML += `
                    <div class="cursor-pointer group" onclick="openBlogModal(${b.id})">
                        <div class="aspect-[4/3] bg-gray-200 overflow-hidden mb-4 relative">
                            <img src="${b.img}" class="w-full h-full object-cover transition duration-500 group-hover:scale-105">
                            <div class="absolute top-2 left-2 bg-white px-2 py-1 text-[10px] uppercase font-bold">${b.cat}</div>
                        </div>
                        <h3 class="text-xl font-light mb-2 group-hover:text-cyan-600 transition">${b.title}</h3>
                        <p class="text-sm text-gray-500 mb-4">${b.desc}</p>
                        <span class="text-xs border-b border-black pb-1 uppercase" data-i18n="btn_read">Читать</span>
                    </div>
                `;
            });
            updateTexts(); // Re-apply translations to new elements
        }
        function filterBlog(cat, btn) {
            renderBlog(cat);
            document.querySelectorAll('#blog-filters button').forEach(b => {
                b.classList.remove('border-black', 'text-black');
                b.classList.add('border-transparent', 'text-gray-400');
            });
            btn.classList.remove('border-transparent', 'text-gray-400');
            btn.classList.add('border-black', 'text-black');
        }
        renderBlog('all');

        // Blog Modal
        function openBlogModal(id) {
            const article = blogData.find(a => a.id === id);
            const modal = document.getElementById('blog-modal');
            const content = document.getElementById('modal-content');
            content.innerHTML = `
                <div class="aspect-video w-full bg-gray-100 mb-8"><img src="${article.img}" class="w-full h-full object-cover"></div>
                <div class="prose max-w-none">
                    ${article.full}
                </div>
                <button class="mt-8 border border-black px-6 py-2 text-xs uppercase hover:bg-black hover:text-white transition" onclick="shareArticle('${article.title}')">Share Article</button>
            `;
            modal.classList.remove('closed'); modal.classList.add('open');
        }
        function closeBlogModal() {
            document.getElementById('blog-modal').classList.remove('open');
            document.getElementById('blog-modal').classList.add('closed');
        }
        function shareArticle(title) {
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }

        // 6. Languages
        function setLang(l) {
            curLang = l;
            document.querySelectorAll('.lang-ru').forEach(e => e.classList.toggle('text-cyan-400', l==='ru'));
            document.querySelectorAll('.lang-en').forEach(e => e.classList.toggle('text-cyan-400', l==='en'));
            updateTexts();
        }
        function updateTexts() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[curLang][key]) el.innerHTML = translations[curLang][key];
            });
        }
        
        function toggleMobileMenu() {
            const m = document.getElementById('mobile-menu-overlay');
            if(m.classList.contains('closed')) { m.classList.remove('closed'); m.classList.add('open'); }
            else { m.classList.remove('open'); m.classList.add('closed'); }
        }
    </script>
</body>
</html>
